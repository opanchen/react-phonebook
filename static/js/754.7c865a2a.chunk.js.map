{"version":3,"file":"static/js/754.7c865a2a.chunk.js","mappings":"8OACA,EAA0B,wBAA1B,EAA6D,yBAA7D,EAA8F,sBAA9F,EAAsI,gCAAtI,EAAqL,6BAArL,EAAiO,6BAAjO,EAAsQ,sBAAtQ,EAAwS,0B,mBCyFxS,EApFe,WACb,IAAAA,GAAgCC,EAAAA,EAAAA,WAAS,GAAMC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAxCI,EAAQF,EAAA,GAAEG,EAAWH,EAAA,GAC5BI,GAA0BL,EAAAA,EAAAA,UAAS,KAAIM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAhCE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GACdG,GAAUC,EAAAA,EAAAA,MAAVD,MACFE,GAAWC,EAAAA,EAAAA,MA2CjB,OAzCAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAU,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAC,EAAA,OAAAH,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACZf,EAAM,CAADa,EAAAE,KAAA,QACgC,OAAxCC,QAAQC,IAAI,4BAA4BJ,EAAAK,OAAA,wBAAAL,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAKtBI,EAAAA,EAAMC,IAAI,gEAADC,OACuCrB,IAChE,KAAD,EAFKW,EAAGE,EAAAS,KAITN,QAAQC,IAAIN,GACO,MAAfA,EAAIY,SACNP,QAAQC,IAAI,wBAAyBN,EAAIa,KAAKC,SAC9C9B,GAAY,IAEbkB,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAa,GAAAb,EAAA,SAEDG,QAAQC,IAAGJ,EAAAa,IACXV,QAAQC,IAAIJ,EAAAa,GAAMC,SAASJ,QAC3BP,QAAQC,IAAIJ,EAAAa,GAAMC,SAASH,MAAM,yBAAAX,EAAAe,OAAA,GAAAlB,EAAA,mBAEpC,kBAtBe,OAAAJ,EAAAuB,MAAA,KAAAC,UAAA,KAwBhBzB,GACF,GAAG,CAACL,KAEJI,EAAAA,EAAAA,YAAU,WACR,GAAKV,EAAL,CAEA,IAAMqC,EAAWC,aAAY,kBAAMjC,GAAS,SAACkC,GAAG,OAAKA,EAAM,CAAC,GAAC,GAAE,KAO/D,OALc,IAAVnC,IACFoC,cAAcH,GACd7B,EAAS,WAGJ,kBAAMgC,cAAcH,EAAU,CAThB,CAUvB,GAAG,CAAC7B,EAAUR,EAAUI,KAGtBqC,EAAAA,EAAAA,KAACC,EAAAA,GAAS,CAAAC,UACRC,EAAAA,EAAAA,MAAA,WAASC,UAAWC,EAAYH,SAAA,EAC9BF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,sBACH3C,GACC4C,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAUH,SAAA,EACxBC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,KAAGI,UAAWC,EAAuBH,SAAC,sCAGtCF,EAAAA,EAAAA,KAAA,KAAGI,UAAWC,EAAoBH,SAAC,sEAKrCF,EAAAA,EAAAA,KAACM,EAAAA,GAAI,CAACC,GAAG,SAASH,UAAWC,EAAoBH,SAAC,iBAIlDF,EAAAA,EAAAA,KAAA,OAAKI,UAAWC,EAAUH,UACxBC,EAAAA,EAAAA,MAAA,KAAAD,SAAA,CAAG,iCAC8B,KAC/BF,EAAAA,EAAAA,KAAA,QAAMI,UAAWC,EAAcH,SAAEvC,aAKvCwC,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAaH,SAAA,EAC3BF,EAAAA,EAAAA,KAACQ,EAAAA,GAAY,CAACC,KAAK,UAAUnB,QAAS,2BACtCU,EAAAA,EAAAA,KAACU,EAAAA,GAAO,CAACC,KAAM,YAM3B,C","sources":["webpack://react-phonebook/./src/pages/Verify/Verify.module.css?d0ed","pages/Verify/Verify.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Verify_wrapper__ISnaa\",\"fallback\":\"Verify_fallback__VbhMq\",\"inner\":\"Verify_inner__rZeww\",\"message-success\":\"Verify_message-success__p3Eu6\",\"message-info\":\"Verify_message-info__w1-2x\",\"redirect-btn\":\"Verify_redirect-btn__FBG7s\",\"timer\":\"Verify_timer__9m3Sc\",\"countdown\":\"Verify_countdown__Km4kP\"};","import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport css from \"./Verify.module.css\";\nimport { Container, FallbackView, Spinner } from \"components\";\n\nconst Verify = () => {\n  const [verified, setVerified] = useState(false);\n  const [timer, setTimer] = useState(100);\n  const { token } = useParams();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const verifyUser = async () => {\n      if (!token) {\n        console.log(\"no token from url params\");\n        return;\n      }\n\n      try {\n        const res = await axios.get(\n          `https://phonebook-backend-kuop.onrender.com/api/users/verify/${token}`\n        );\n\n        console.log(res);\n        if (res.status === 200) {\n          console.log(\"Verification result: \", res.data.message);\n          setVerified(true);\n          //   navigate(\"/login\");\n        }\n      } catch (error) {\n        console.log(error);\n        console.log(error.response.status);\n        console.log(error.response.data);\n      }\n    };\n\n    verifyUser();\n  }, [token]);\n\n  useEffect(() => {\n    if (!verified) return;\n\n    const interval = setInterval(() => setTimer((sec) => sec - 1), 1000);\n\n    if (timer === 0) {\n      clearInterval(interval);\n      navigate(\"/login\");\n    }\n\n    return () => clearInterval(interval);\n  }, [navigate, verified, timer]);\n\n  return (\n    <Container>\n      <section className={css.wrapper}>\n        <h1>Verification page</h1>\n        {verified ? (\n          <div className={css.inner}>\n            <div>\n              <p className={css[\"message-success\"]}>\n                Email was verified successfully!\n              </p>\n              <p className={css[\"message-info\"]}>\n                Please follow the link below to complete the login process...\n              </p>\n            </div>\n\n            <Link to=\"/login\" className={css[\"redirect-btn\"]}>\n              Go to login\n            </Link>\n\n            <div className={css.timer}>\n              <p>\n                Auto-redirect to login page in{\" \"}\n                <span className={css.countdown}>{timer}</span>\n              </p>\n            </div>\n          </div>\n        ) : (\n          <div className={css.fallback}>\n            <FallbackView type=\"warning\" message={\"Email is not verified\"} />\n            <Spinner size={40} />\n          </div>\n        )}\n      </section>\n    </Container>\n  );\n};\n\nexport default Verify;\n"],"names":["_useState","useState","_useState2","_slicedToArray","verified","setVerified","_useState3","_useState4","timer","setTimer","token","useParams","navigate","useNavigate","useEffect","verifyUser","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_context","prev","next","console","log","abrupt","axios","get","concat","sent","status","data","message","t0","response","stop","apply","arguments","interval","setInterval","sec","clearInterval","_jsx","Container","children","_jsxs","className","css","Link","to","FallbackView","type","Spinner","size"],"sourceRoot":""}