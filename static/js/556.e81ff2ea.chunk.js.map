{"version":3,"file":"static/js/556.e81ff2ea.chunk.js","mappings":"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","sources":["webpack://react-phonebook/./src/pages/ContactDetails/ContactDetails.module.css?e222","pages/ContactDetails/ContactDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"section\":\"ContactDetails_section__9ldSc\",\"wrapper\":\"ContactDetails_wrapper__krR8y\",\"inner\":\"ContactDetails_inner__NJnVn\",\"thumb\":\"ContactDetails_thumb__XqrYT\",\"image\":\"ContactDetails_image__Vzsg6\",\"info\":\"ContactDetails_info__8Ohx1\",\"label-name\":\"ContactDetails_label-name__3BqZZ\",\"label-phone\":\"ContactDetails_label-phone__UJKeQ\",\"label-email\":\"ContactDetails_label-email__LFJSE\",\"btn-bar\":\"ContactDetails_btn-bar__06kmy\",\"delete-btn\":\"ContactDetails_delete-btn__R+dD2\",\"edit-btn\":\"ContactDetails_edit-btn__EYM0v\",\"message-btn\":\"ContactDetails_message-btn__UI+s3\",\"disabled\":\"ContactDetails_disabled__EbMiY\",\"back-btn\":\"ContactDetails_back-btn__EqZ0n\",\"fav-btn\":\"ContactDetails_fav-btn__3DSOA\",\"call-btn\":\"ContactDetails_call-btn__jlf27\",\"icon-fav-remove\":\"ContactDetails_icon-fav-remove__XelcA\",\"btn-label\":\"ContactDetails_btn-label__Udctd\"};","import { useNavigate, useParams } from \"react-router-dom\";\nimport {\n  useDeleteContactMutation,\n  useGetContactByIdQuery,\n  useUpdateStatusContactMutation,\n} from \"redux/contacts/contactsSlice\";\nimport { useEffect, useState } from \"react\";\nimport { useWindowDimensions } from \"hooks\";\n\nimport {\n  AddToFavIcon,\n  CallIcon,\n  DeleteIcon,\n  EditIcon,\n  MessageIcon,\n  RemoveFromFavIcon,\n} from \"helpers/icons\";\nimport {\n  Container,\n  EditContactForm,\n  FallbackView,\n  MessageForm,\n  Modal,\n  Spinner,\n} from \"components\";\nimport css from \"./ContactDetails.module.css\";\nimport contactAvatar from \"../../assets/images/contact.png\";\n\nconst AVATAR_PATH = \"https://cdn-icons-png.flaticon.com/512/1998/1998592.png\";\n\nconst ContactDetails = () => {\n  const { id } = useParams();\n  const { width } = useWindowDimensions();\n\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false);\n  const [isMessageModalOpen, setIsMessageModalOpen] = useState(false);\n\n  const [deleteContact, { isLoading: isDeleting }] = useDeleteContactMutation();\n  const [toggleIsFavorite, { isLoading: isFavChangind }] =\n    useUpdateStatusContactMutation();\n  const { data: contact, isLoading, isError } = useGetContactByIdQuery(id);\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (width < 768) return;\n\n    navigate(\"/contacts\");\n  }, [navigate, width]);\n\n  // !\n  if (isError || !contact)\n    return (\n      <FallbackView\n        type=\"error\"\n        message={\n          \"Something went wrong... Information about this contact isn't available. Please try again later.\"\n        }\n      />\n    );\n\n  const { name, email, phone, favorite: isFavorite, sentMessages } = contact;\n\n  const favoriteHandler = () => {\n    toggleIsFavorite({ id, favorite: !isFavorite });\n  };\n\n  const toggleEditModal = () => {\n    setIsEditModalOpen((prevModalState) => !prevModalState);\n  };\n\n  const toggleMessageModal = () => {\n    setIsMessageModalOpen((prevModalState) => !prevModalState);\n  };\n\n  const handleDeleteContact = () => {\n    console.log(\"Delete contact with id: \", id, \"?\");\n    deleteContact(id);\n  };\n\n  return (\n    <>\n      <Container>\n        <section className={css.section}>\n          <button\n            className={css[\"back-btn\"]}\n            type=\"button\"\n            onClick={() => navigate(-1)}\n          >\n            Back\n          </button>\n          {isLoading && <Spinner size={32} />}\n          {contact && (\n            <div className={css.wrapper}>\n              <div className={css.inner}>\n                <div className={css.thumb}>\n                  <img\n                    className={css.image}\n                    src={contactAvatar}\n                    alt=\"icon\"\n                    width={86}\n                  />\n                </div>\n                <div className={css.info}>\n                  <p className={css.name}>\n                    <span className={css[\"label-name\"]}>Name:</span> {name}\n                  </p>\n                  <p className={css.phone}>\n                    <span className={css[\"label-phone\"]}>Phone:</span> {phone}\n                  </p>\n                  <p className={css.email}>\n                    <span className={css[\"label-email\"]}>Email:</span> {email}\n                  </p>\n                </div>\n              </div>\n\n              <div className={css[\"btn-bar\"]}>\n                <button\n                  className={css[\"fav-btn\"]}\n                  type=\"button\"\n                  onClick={favoriteHandler}\n                >\n                  {isFavChangind ? (\n                    <Spinner size={14} />\n                  ) : (\n                    <>\n                      {\" \"}\n                      <span className={css[\"btn-label\"]}>\n                        {isFavorite\n                          ? \"Remove from favorite\"\n                          : \"Add to favorite\"}\n                      </span>\n                      {isFavorite ? (\n                        <RemoveFromFavIcon\n                          size={20}\n                          color={\"#e84a5f\"}\n                          className={css[\"icon-fav-remove\"]}\n                        />\n                      ) : (\n                        <AddToFavIcon\n                          size={20}\n                          className={css[\"icon-fav-add\"]}\n                        />\n                      )}\n                    </>\n                  )}\n                </button>\n                <a href={`tel:${phone}`} className={css[\"call-btn\"]}>\n                  <span className={css[\"btn-label\"]}>Call</span>\n                  <CallIcon size={24} className={css[\"icon-call\"]} />\n                </a>\n                <button\n                  className={css[\"message-btn\"]}\n                  type=\"button\"\n                  onClick={toggleMessageModal}\n                >\n                  <span className={css[\"btn-label\"]}>Email</span>\n                  <MessageIcon size={20} className={css[\"icon-message\"]} />\n                </button>\n                <button\n                  type=\"button\"\n                  className={css[\"edit-btn\"]}\n                  onClick={toggleEditModal}\n                >\n                  <span className={css[\"btn-label\"]}>Edit</span>\n                  <EditIcon size={24} className={css[\"icon-edit\"]} />\n                </button>\n                <button\n                  className={css[\"delete-btn\"]}\n                  type=\"button\"\n                  onClick={handleDeleteContact}\n                >\n                  {isDeleting ? (\n                    <Spinner size={14} />\n                  ) : (\n                    <>\n                      <span className={css[\"btn-label\"]}>Delete</span>\n                      <DeleteIcon size={24} className={css[\"icon-del\"]} />\n                    </>\n                  )}\n                </button>\n              </div>\n\n              {isEditModalOpen && (\n                <Modal onClose={toggleEditModal}>\n                  <EditContactForm\n                    id={id}\n                    prevName={name}\n                    prevNumber={phone}\n                    prevEmail={email}\n                    closeModal={toggleEditModal}\n                    avatar={AVATAR_PATH}\n                  />\n                </Modal>\n              )}\n\n              {isMessageModalOpen && (\n                <Modal onClose={toggleMessageModal}>\n                  <MessageForm\n                    id={id}\n                    closeModal={toggleMessageModal}\n                    messages={sentMessages}\n                  />\n                </Modal>\n              )}\n            </div>\n          )}\n        </section>\n      </Container>\n    </>\n  );\n};\n\nexport default ContactDetails;\n"],"names":["id","useParams","width","useWindowDimensions","_useState","useState","_useState2","_slicedToArray","isEditModalOpen","setIsEditModalOpen","_useState3","_useState4","isMessageModalOpen","setIsMessageModalOpen","_useDeleteContactMuta","useDeleteContactMutation","_useDeleteContactMuta2","deleteContact","isDeleting","isLoading","_useUpdateStatusConta","useUpdateStatusContactMutation","_useUpdateStatusConta2","toggleIsFavorite","isFavChangind","_useGetContactByIdQue","useGetContactByIdQuery","contact","data","isError","navigate","useNavigate","useEffect","_jsx","FallbackView","type","message","name","email","phone","isFavorite","favorite","sentMessages","toggleEditModal","prevModalState","toggleMessageModal","_Fragment","children","Container","_jsxs","className","css","section","onClick","Spinner","size","wrapper","inner","thumb","image","src","contactAvatar","alt","info","RemoveFromFavIcon","color","AddToFavIcon","href","concat","CallIcon","MessageIcon","EditIcon","console","log","DeleteIcon","Modal","onClose","EditContactForm","prevName","prevNumber","prevEmail","closeModal","avatar","MessageForm","messages"],"sourceRoot":""}