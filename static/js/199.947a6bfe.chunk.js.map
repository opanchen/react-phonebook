{"version":3,"file":"static/js/199.947a6bfe.chunk.js","mappings":"gNACA,EAA8B,8BAA9B,EAA0E,8BAA1E,EAAqH,6B,uCC6ErH,EAtEiB,WACf,IAAAA,GAAwDC,EAAAA,EAAAA,KAAhDC,EAAYF,EAAZE,aAAcC,EAAuBH,EAAvBG,wBAAyBC,EAAIJ,EAAJI,KAE/CC,GAA0BC,EAAAA,EAAAA,UAAS,KAAIC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAhCI,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GAEhBI,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACR,GAAKX,EAAL,CAEA,IAAMY,EAAWC,aAAY,kBAAML,GAAS,SAACM,GAAG,OAAKA,EAAM,CAAC,GAAC,GAAE,KAM/D,OAJc,IAAVP,GACFQ,cAAcH,GAGT,kBAAMG,cAAcH,EAAU,CARZ,CAS3B,GAAG,CAACZ,EAAcO,IAElB,IAIMS,EAAUC,KAAKC,MAAMX,EAAQ,IAC7BY,EAAUF,KAAKC,MAAMX,EAAQ,IAEnC,OACEa,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAM,CAAAF,UACLC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,oBAGTF,EAAAA,EAAAA,MAACK,EAAAA,GAAS,CAAAH,SAAA,EACRF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,mBACJC,EAAAA,EAAAA,KAACG,EAAAA,GAAY,OAGd1B,IACCoB,EAAAA,EAAAA,MAAA,OAAKO,UAAWC,EAAmBN,SAAA,EACjCC,EAAAA,EAAAA,KAACM,EAAAA,GAAY,CACXC,KAAK,UACLC,QACE,wEAIF9B,GAAqC,IAAVM,IAC3Ba,EAAAA,EAAAA,MAAA,KAAGO,UAAWC,EAAmBN,SAAA,CAAC,0CACQN,EAAQ,QAAMG,EAAS,IAAI,aAKrElB,GAAqC,IAAVM,IAC3BgB,EAAAA,EAAAA,KAAA,UACEI,UAAWC,EACXE,KAAK,SACLE,QAvCQ,WACpBvB,GAASwB,EAAAA,EAAAA,IAAoB,CAAEC,MAAOhC,EAAKgC,QAC7C,EAqCqCZ,SACxB,2BASf,C","sources":["webpack://react-phonebook/./src/pages/Register/Register.module.css?12fc","pages/Register/Register.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"verify-info\":\"Register_verify-info__lLiLt\",\"resend-text\":\"Register_resend-text__Nh2ZR\",\"resend-btn\":\"Register_resend-btn__1ZutR\"};","import { Container, FallbackView, RegisterForm } from \"components\";\nimport { useAuth } from \"hooks\";\nimport { useEffect, useState } from \"react\";\nimport css from \"./Register.module.css\";\nimport { useDispatch } from \"react-redux\";\nimport { resendVerifyMessage } from \"redux/auth/operations\";\nimport { Helmet } from \"react-helmet\";\n\nconst Register = () => {\n  const { isRegistered, isVerifyMessageResended, user } = useAuth();\n  // const [resendMessage, setResendMessage] = useState(false);\n  const [timer, setTimer] = useState(300);\n  // const [timer, setTimer] = useState(5);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!isRegistered) return;\n\n    const interval = setInterval(() => setTimer((sec) => sec - 1), 1000);\n\n    if (timer === 0) {\n      clearInterval(interval);\n    }\n\n    return () => clearInterval(interval);\n  }, [isRegistered, timer]);\n\n  const resendHandler = () => {\n    dispatch(resendVerifyMessage({ email: user.email }));\n  };\n\n  const minutes = Math.floor(timer / 60);\n  const seconds = Math.floor(timer % 60);\n\n  return (\n    <>\n      <Helmet>\n        <title>Registration</title>\n      </Helmet>\n\n      <Container>\n        <div>\n          <h1>Register page</h1>\n          <RegisterForm />\n        </div>\n\n        {isRegistered && (\n          <div className={css[\"verify-info\"]}>\n            <FallbackView\n              type=\"warning\"\n              message={\n                \"Please check out verification message on your email to continue...\"\n              }\n            />\n\n            {!isVerifyMessageResended && timer !== 0 && (\n              <p className={css[\"resend-text\"]}>\n                You can resend verification message in {minutes} min {seconds}{\" \"}\n                sec...\n              </p>\n            )}\n\n            {!isVerifyMessageResended && timer === 0 && (\n              <button\n                className={css[\"resend-btn\"]}\n                type=\"button\"\n                onClick={resendHandler}\n              >\n                Resend message\n              </button>\n            )}\n          </div>\n        )}\n      </Container>\n    </>\n  );\n};\n\nexport default Register;\n"],"names":["_useAuth","useAuth","isRegistered","isVerifyMessageResended","user","_useState","useState","_useState2","_slicedToArray","timer","setTimer","dispatch","useDispatch","useEffect","interval","setInterval","sec","clearInterval","minutes","Math","floor","seconds","_jsxs","_Fragment","children","_jsx","Helmet","Container","RegisterForm","className","css","FallbackView","type","message","onClick","resendVerifyMessage","email"],"sourceRoot":""}