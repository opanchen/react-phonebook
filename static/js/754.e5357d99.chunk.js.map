{"version":3,"file":"static/js/754.e5357d99.chunk.js","mappings":"wPACA,EAA0B,wBAA1B,EAA6D,yBAA7D,EAA8F,sBAA9F,EAAsI,gCAAtI,EAAqL,6BAArL,EAAiO,6BAAjO,EAAsQ,sBAAtQ,EAAwS,0B,SCwFxS,EAlFe,WACb,IAAAA,GAAgCC,EAAAA,EAAAA,WAAS,GAAMC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAxCI,EAAQF,EAAA,GAAEG,EAAWH,EAAA,GAC5BI,GAA0BL,EAAAA,EAAAA,UAAS,KAAIM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAhCE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GAEdG,GAAUC,EAAAA,EAAAA,MAAVD,MAEFE,GAAWC,EAAAA,EAAAA,MAuCjB,OArCAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAU,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,OAAAF,EAAAA,EAAAA,KAAAG,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACZd,EAAM,CAADY,EAAAE,KAAA,eAAAF,EAAAG,OAAA,wBAAAH,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAKUE,EAAAA,EAAMC,IAAI,gEAADC,OACuClB,IAChE,KAAD,EAEkB,MAJVY,EAAAO,KAIDC,QACNzB,GAAY,GACbiB,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAS,GAAAT,EAAA,SAEDU,QAAQC,IAAGX,EAAAS,IACXC,QAAQC,IAAIX,EAAAS,GAAMG,SAASJ,QAC3BE,QAAQC,IAAIX,EAAAS,GAAMG,SAASC,MAAM,yBAAAb,EAAAc,OAAA,GAAAhB,EAAA,kBAEpC,kBAlBe,OAAAJ,EAAAqB,MAAA,KAAAC,UAAA,KAoBhBvB,GACF,GAAG,CAACL,KAEJI,EAAAA,EAAAA,YAAU,WACR,GAAKV,EAAL,CAEA,IAAMmC,EAAWC,aAAY,kBAAM/B,GAAS,SAACgC,GAAG,OAAKA,EAAM,CAAC,GAAC,GAAE,KAO/D,OALc,IAAVjC,IACFkC,cAAcH,GACd3B,EAAS,WAGJ,kBAAM8B,cAAcH,EAAU,CAThB,CAUvB,GAAG,CAAC3B,EAAUR,EAAUI,KAGtBmC,EAAAA,EAAAA,KAACC,EAAAA,GAAS,CAAAC,UACRC,EAAAA,EAAAA,MAAA,WAASC,UAAWC,EAAYH,SAAA,EAC9BF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,sBACHzC,GACC0C,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAUH,SAAA,EACxBC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,KAAGI,UAAWC,EAAuBH,SAAC,sCAGtCF,EAAAA,EAAAA,KAAA,KAAGI,UAAWC,EAAoBH,SAAC,sEAKrCF,EAAAA,EAAAA,KAACM,EAAAA,GAAI,CAACC,GAAG,SAASH,UAAWC,EAAoBH,SAAC,iBAIlDF,EAAAA,EAAAA,KAAA,OAAKI,UAAWC,EAAUH,UACxBC,EAAAA,EAAAA,MAAA,KAAAD,SAAA,CAAG,iCAC8B,KAC/BF,EAAAA,EAAAA,KAAA,QAAMI,UAAWC,EAAcH,SAAErC,aAKvCsC,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAaH,SAAA,EAC3BF,EAAAA,EAAAA,KAACQ,EAAAA,GAAY,CAACC,KAAK,UAAUC,QAAS,2BACtCV,EAAAA,EAAAA,KAACW,EAAAA,GAAO,CAACC,KAAM,YAM3B,C","sources":["webpack://react-phonebook/./src/pages/Verify/Verify.module.css?d0ed","pages/Verify/Verify.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Verify_wrapper__ISnaa\",\"fallback\":\"Verify_fallback__VbhMq\",\"inner\":\"Verify_inner__rZeww\",\"message-success\":\"Verify_message-success__p3Eu6\",\"message-info\":\"Verify_message-info__w1-2x\",\"redirect-btn\":\"Verify_redirect-btn__FBG7s\",\"timer\":\"Verify_timer__9m3Sc\",\"countdown\":\"Verify_countdown__Km4kP\"};","import { Link, useNavigate, useParams } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nimport { Container, FallbackView, Spinner } from \"components\";\nimport css from \"./Verify.module.css\";\n\nconst Verify = () => {\n  const [verified, setVerified] = useState(false);\n  const [timer, setTimer] = useState(100);\n\n  const { token } = useParams();\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const verifyUser = async () => {\n      if (!token) {\n        return;\n      }\n\n      try {\n        const res = await axios.get(\n          `https://phonebook-backend-kuop.onrender.com/api/users/verify/${token}`\n        );\n\n        if (res.status === 200) {\n          setVerified(true);\n        }\n      } catch (error) {\n        console.log(error);\n        console.log(error.response.status);\n        console.log(error.response.data);\n      }\n    };\n\n    verifyUser();\n  }, [token]);\n\n  useEffect(() => {\n    if (!verified) return;\n\n    const interval = setInterval(() => setTimer((sec) => sec - 1), 1000);\n\n    if (timer === 0) {\n      clearInterval(interval);\n      navigate(\"/login\");\n    }\n\n    return () => clearInterval(interval);\n  }, [navigate, verified, timer]);\n\n  return (\n    <Container>\n      <section className={css.wrapper}>\n        <h1>Verification page</h1>\n        {verified ? (\n          <div className={css.inner}>\n            <div>\n              <p className={css[\"message-success\"]}>\n                Email was verified successfully!\n              </p>\n              <p className={css[\"message-info\"]}>\n                Please follow the link below to complete the login process...\n              </p>\n            </div>\n\n            <Link to=\"/login\" className={css[\"redirect-btn\"]}>\n              Go to login\n            </Link>\n\n            <div className={css.timer}>\n              <p>\n                Auto-redirect to login page in{\" \"}\n                <span className={css.countdown}>{timer}</span>\n              </p>\n            </div>\n          </div>\n        ) : (\n          <div className={css.fallback}>\n            <FallbackView type=\"warning\" message={\"Email is not verified\"} />\n            <Spinner size={40} />\n          </div>\n        )}\n      </section>\n    </Container>\n  );\n};\n\nexport default Verify;\n"],"names":["_useState","useState","_useState2","_slicedToArray","verified","setVerified","_useState3","_useState4","timer","setTimer","token","useParams","navigate","useNavigate","useEffect","verifyUser","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","abrupt","axios","get","concat","sent","status","t0","console","log","response","data","stop","apply","arguments","interval","setInterval","sec","clearInterval","_jsx","Container","children","_jsxs","className","css","Link","to","FallbackView","type","message","Spinner","size"],"sourceRoot":""}