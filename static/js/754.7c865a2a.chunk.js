"use strict";(self.webpackChunkreact_phonebook=self.webpackChunkreact_phonebook||[]).push([[754],{2754:function(e,n,s){s.r(n),s.d(n,{default:function(){return k}});var r=s(4165),t=s(5861),a=s(9439),c=s(1243),o=s(2791),i=s(7689),l=s(1087),u="Verify_wrapper__ISnaa",f="Verify_fallback__VbhMq",p="Verify_inner__rZeww",d="Verify_message-success__p3Eu6",h="Verify_message-info__w1-2x",_="Verify_redirect-btn__FBG7s",m="Verify_timer__9m3Sc",g="Verify_countdown__Km4kP",v=s(1628),x=s(184),k=function(){var e=(0,o.useState)(!1),n=(0,a.Z)(e,2),s=n[0],k=n[1],j=(0,o.useState)(100),b=(0,a.Z)(j,2),w=b[0],y=b[1],V=(0,i.UO)().token,N=(0,i.s0)();return(0,o.useEffect)((function(){var e=function(){var e=(0,t.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V){e.next=3;break}return console.log("no token from url params"),e.abrupt("return");case 3:return e.prev=3,e.next=6,c.Z.get("https://phonebook-backend-kuop.onrender.com/api/users/verify/".concat(V));case 6:n=e.sent,console.log(n),200===n.status&&(console.log("Verification result: ",n.data.message),k(!0)),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0),console.log(e.t0.response.status),console.log(e.t0.response.data);case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[V]),(0,o.useEffect)((function(){if(s){var e=setInterval((function(){return y((function(e){return e-1}))}),1e3);return 0===w&&(clearInterval(e),N("/login")),function(){return clearInterval(e)}}}),[N,s,w]),(0,x.jsx)(v.W2,{children:(0,x.jsxs)("section",{className:u,children:[(0,x.jsx)("h1",{children:"Verification page"}),s?(0,x.jsxs)("div",{className:p,children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:d,children:"Email was verified successfully!"}),(0,x.jsx)("p",{className:h,children:"Please follow the link below to complete the login process..."})]}),(0,x.jsx)(l.rU,{to:"/login",className:_,children:"Go to login"}),(0,x.jsx)("div",{className:m,children:(0,x.jsxs)("p",{children:["Auto-redirect to login page in"," ",(0,x.jsx)("span",{className:g,children:w})]})})]}):(0,x.jsxs)("div",{className:f,children:[(0,x.jsx)(v.d2,{type:"warning",message:"Email is not verified"}),(0,x.jsx)(v.$j,{size:40})]})]})})}}}]);
//# sourceMappingURL=754.7c865a2a.chunk.js.map